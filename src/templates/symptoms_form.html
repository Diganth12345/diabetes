<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diabetes Symptom Checker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
            padding-top: 2rem;
        }
        .symptom-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .form-header {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .required-field::after {
            content: " *";
            color: #e74c3c;
        }
        .symptom-group {
            margin-bottom: 1rem;
            padding: 0.75rem;
            border-left: 4px solid #3498db;
            background-color: #f8f9fa;
            transition: all 0.3s ease;
        }
        .symptom-group:hover {
            background-color: #e9f7fe;
        }
        .form-check-input:checked + .form-check-label {
            font-weight: 600;
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="symptom-card">
            <h1 class="form-header text-center">Diabetes Symptom Assessment</h1>
            
            <form method="POST" action="/predict_symptoms" id="symptomForm">
                <!-- Personal Information -->
                <div class="row mb-4">
                    <div class="col-md-6">
                        <label for="Age" class="form-label required-field">Age</label>
                        <input type="number" class="form-control" id="Age" name="Age" 
                               min="1" max="120" required>
                        <div class="invalid-feedback">Please enter your age</div>
                    </div>
                    <div class="col-md-6">
                        <label for="Gender" class="form-label required-field">Gender</label>
                        <select class="form-select" id="Gender" name="Gender" required>
                            <option value="" disabled selected>Select gender</option>
                            <option value="0">Female</option>
                            <option value="1">Male</option>
                        </select>
                        <div class="invalid-feedback">Please select your gender</div>
                    </div>
                </div>

                <!-- Core Symptoms -->
                <h4 class="mt-4 mb-3 text-primary">Common Symptoms</h4>
                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="Polyuria" name="Polyuria" value="1">
                        <label class="form-check-label" for="Polyuria">
                            Frequent urination (Polyuria)
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="Polydipsia" name="Polydipsia" value="1">
                        <label class="form-check-label" for="Polydipsia">
                            Excessive thirst (Polydipsia)
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="SuddenWeightLoss" name="Sudden weight loss" value="1">
                        <label class="form-check-label" for="SuddenWeightLoss">
                            Sudden weight loss
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="Weakness" name="Weakness" value="1">
                        <label class="form-check-label" for="Weakness">
                            General weakness or fatigue
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="Polyphagia" name="Polyphagia" value="1">
                        <label class="form-check-label" for="Polyphagia">
                            Increased hunger (Polyphagia)
                        </label>
                    </div>
                </div>

                <!-- Additional Symptoms -->
                <h4 class="mt-5 mb-3 text-primary">Other Symptoms</h4>
                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="GenitalThrush" name="Genital thrush" value="1">
                        <label class="form-check-label" for="GenitalThrush">
                            Genital thrush (yeast infection)
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="VisualBlurring" name="Visual blurring" value="1">
                        <label class="form-check-label" for="VisualBlurring">
                            Blurred vision
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="Itching" name="Itching" value="1">
                        <label class="form-check-label" for="Itching">
                            Itchy skin
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="Irritability" name="Irritability" value="1">
                        <label class="form-check-label" for="Irritability">
                            Irritability
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="DelayedHealing" name="Delayed healing" value="1">
                        <label class="form-check-label" for="DelayedHealing">
                            Slow healing of wounds
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="PartialParesis" name="Partial paresis" value="1">
                        <label class="form-check-label" for="PartialParesis">
                            Muscle weakness (Partial paresis)
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="MuscleStiffness" name="Muscle stiffness" value="1">
                        <label class="form-check-label" for="MuscleStiffness">
                            Muscle stiffness
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="Alopecia" name="Alopecia" value="1">
                        <label class="form-check-label" for="Alopecia">
                            Hair loss (Alopecia)
                        </label>
                    </div>
                </div>

                <div class="symptom-group">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="Obesity" name="Obesity" value="1">
                        <label class="form-check-label" for="Obesity">
                            Obesity (BMI â‰¥ 30)
                        </label>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="d-grid gap-2 mt-5">
                    <button type="submit" class="btn btn-primary btn-lg py-3">
                        <i class="bi bi-clipboard2-pulse"></i> Check Symptoms
                    </button>
                </div>
            </form>
        </div>

        <!-- Medical Disclaimer -->
        <div class="alert alert-info mt-4">
            <strong>Note:</strong> This assessment is not a substitute for professional medical advice. 
            Consult a healthcare provider for proper diagnosis.
        </div>
    </div>

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Enhanced Form Validation -->
    <script>
        document.getElementById('symptomForm').addEventListener('submit', function(e) {
            let isValid = true;
            const requiredFields = [
                { id: 'Age', name: 'Age' },
                { id: 'Gender', name: 'Gender' }
            ];
            
            // Clear previous invalid states
            requiredFields.forEach(field => {
                document.getElementById(field.id).classList.remove('is-invalid');
            });
            
            // Validate required fields
            requiredFields.forEach(field => {
                const element = document.getElementById(field.id);
                if (!element.value) {
                    element.classList.add('is-invalid');
                    isValid = false;
                }
            });
            
            // Ensure at least one symptom is checked
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const atLeastOneChecked = Array.from(checkboxes).some(checkbox => checkbox.checked);
            
            if (!atLeastOneChecked) {
                alert('Please check at least one symptom');
                isValid = false;
            }
            
            if (!isValid) {
                e.preventDefault();
            }
        });
        
        // Add hover effect for better UX
        document.querySelectorAll('.symptom-group').forEach(group => {
            group.addEventListener('mouseenter', function() {
                this.style.transform = 'translateX(5px)';
            });
            group.addEventListener('mouseleave', function() {
                this.style.transform = '';
            });
        });
    </script>
</body>
</html>